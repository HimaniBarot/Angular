<!-- <button routerLink="/resume-builder/resume-list-view" class="btn btn-primary">Back</button> -->

<h2 class="heading">Add Your Details</h2>
<!-- {{ resumeForm.value | json }} -->
<form class="form-wrapper d-flex flex-column" [formGroup]="resumeForm" (ngSubmit)="onSubmit()" autocomplete="on">
  <div class="w-100 d-flex justify-space-between flex-wrap">
    <div class="form-group">
      <label for="name">Name</label>
      <input class="form-control" type="text" formControlName="name" />
      <div *ngIf="getValues['name'].touched || (getValues['name'].dirty && getValues['name'].invalid)">
        <span id="error-display" *ngIf="getValues['name'].errors && getValues['name'].errors['required']">Name is
          required.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="name">Designation</label>
      <input class="form-control" type="text" formControlName="designation" />
    </div>


    <div class="form-group">
      <label for="name">Email</label>
      <input class="form-control" type="text" formControlName="email" />
    </div>

    <div class="form-group">
      <label for="name">Contact Number</label>
      <input class="form-control" type="number" formControlName="contactNumber" />
    </div>
  </div>

  <!-- SKILLS -->
  <div class="form-group" formArrayName="skills">
    <label for="name">Technical Skills</label>
    <button class="add-field" type="button" (click)="addNewSkill()">+ ADD</button>
    <div class="w-100 d-flex justify-space-between flex-wrap">
      <div class="form-group tech-field" *ngFor="let skill of addSkill['controls']; let i = index">
        <div class="d-flex" [formGroupName]="i">
          <!-- <div class="d-flex"> -->
          <input class="form-control" type="text" formControlName="techSkill" />
          <button class="delete-field" type="button" (click)="deleteSkill(i)">-</button>
          <!-- </div> -->
          <!-- display error -->
          <div *ngIf="getFormGroup(skill).controls['techSkill'].touched || 
          (getFormGroup(skill).controls['techSkill'].dirty && getFormGroup(skill).controls['techSkill'].invalid)">
            <p id="error-display" *ngIf="getFormGroup(skill).controls['techSkill'].errors">
              This field is required.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Experience -->

  <div>
  </div>
  <div class="form-group" formArrayName="experience">
    <label>Experience</label>
    <button class="add-field" type="button" (click)="addNewExperience()">+ ADD</button>
    <div *ngFor="let experience of addExperience['controls']; let i = index">
      <div class="d-flex flex-column flex-wrap" [formGroupName]="i">
        <div class="d-flex flex-column">
          <label>Company</label>
          <input class="form-control" type="text" formControlName="company" />
          <!-- <p style="color: red">This field is required.</p> -->
        </div>
        <div class="d-flex flex-column">
          <label>Position</label>
          <input class="form-control" type="text" formControlName="position" />
        </div>
        <div class="d-flex flex-column">
          <label>Description</label>
          <textarea class="form-control" rows="4" formControlName="description"></textarea>
        </div>
        <div class="d-flex flex-column">
          <label>Duration</label>
          <input class="form-control" type="text" formControlName="duration" />
        </div>
      </div>
      <button class="delete-field" type="button" (click)="deleteExperience(i)">-</button>
    </div>
  </div>

  <!-- Education -->

  <div class="input-data">
    <label for="name">Education</label><br />
    <button class="add-field" type="button" (click)="addNewEducation()">+ ADD</button>
  </div>
  <div formArrayName="education">
    <div *ngFor="let skill of addEducation['controls']; let i = index">
      <div [formGroupName]="i">
        <input class="form-control" type="text" formControlName="university" />
        <input class="form-control" type="text" formControlName="result" />
        <button class="delete-field" type="button" (click)="deleteEducation(i)">-</button>
      </div>
    </div>
  </div>

  <div class="input-data">
    <button class="btn btn-success" type="submit">Submit</button>
    <button class="btn btn-danger" type="button">Reset</button>
  </div>
</form>